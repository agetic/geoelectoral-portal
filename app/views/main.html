<div class="row">

  <!-- Mapa -->
  <div class="col-md-8 col-sm-12 graficos">
    <ol id="mapa-breadcrumb" bread-crumbs></ol>
    <div class="row">
      <div resize class="col-sm-2" ng-class="anios_columna()">
        <button class="btn btn-default btn-anios" type="button" data-toggle="dropdown">{{anio}}
          <span class="caret"></span>
        </button>
        <ul ng-class="anios_tipo()" class="nav-anios affix-anios">
          <li class="" ng-repeat="a in anios" ng-class="{'dropdown-submenu active': a === anio}">
            <a tabindex="0" data-toggle="dropdown" ng-click="setAnioIndex($index)" ng-hide="a===anio">{{a}}</a>
            <a tabindex="0" data-toggle="dropdown" ng-show="a===anio">{{a}}</a>
            <ul class="dropdown-menu nav-anios" ng-show="a===anio">
              <li class="dropdown-submenu">
                <a data-toggle="dropdown">Plurinominales</a>
                <ul class="dropdown-menu nav-anios">
                  <li>
                    <div class="btn-group" ng-click="setTipoEleccion(1)">
                      <button type="button" ng-click="setTipoDpa(2)" class="btn btn-default btn-sm nav-justified" ng-class="{active: a===anio && getTipoDpa()===2 && getTipoEleccion()===1}">Departamento</button>
                      <button type="button" ng-click="setTipoDpa(3)" class="btn btn-default btn-sm nav-justified" ng-class="{active: a===anio && getTipoDpa()===3 && getTipoEleccion()===1}">Provincia</button>
                      <button type="button" ng-click="setTipoDpa(4)" class="btn btn-default btn-sm nav-justified" ng-class="{active: a===anio && getTipoDpa()===4 && getTipoEleccion()===1}">Municipio</button>
                      <button type="button" ng-click="setTipoDpa(5)" class="btn btn-default btn-sm nav-justified" ng-class="{active: a===anio && getTipoDpa()===5 && getTipoEleccion()===1}">Circunscripción</button>
                    </div>
                  </li>
                </ul>
              </li>
              <li class="dropdown-submenu">
                <a data-toggle="dropdown">Uninominales</a>
                <ul class="dropdown-menu nav-anios">
                  <li>
                    <div class="btn-group" ng-click="setTipoEleccion(2)">
                      <button type="button" ng-click="setTipoDpa(2)" class="btn btn-default btn-sm nav-justified" ng-class="{active: a===anio && getTipoDpa()===2 && getTipoEleccion()===2}">Departamento</button>
                      <button type="button" ng-click="setTipoDpa(3)" class="btn btn-default btn-sm nav-justified" ng-class="{active: a===anio && getTipoDpa()===3 && getTipoEleccion()===2}">Provincia</button>
                      <button type="button" ng-click="setTipoDpa(4)" class="btn btn-default btn-sm nav-justified" ng-class="{active: a===anio && getTipoDpa()===4 && getTipoEleccion()===2}">Municipio</button>
                      <button type="button" ng-click="setTipoDpa(5)" class="btn btn-default btn-sm nav-justified" ng-class="{active: a===anio && getTipoDpa()===5 && getTipoEleccion()===2}">Circunscripción</button>
                    </div>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <!-- <li class="divider"></li>
          <li class="" ng-repeat="a in anios" ng-class="{'dropdown-submenu active': a === anio}">
              <a tabindex="0" data-toggle="dropdown" ng-click="setAnioIndex($index)" ng-hide="a===anio">{{a}}</a>
              <a tabindex="0" data-toggle="dropdown" ng-show="a===anio">{{a}}</a>
              <ul class="dropdown-menu nav-anios" ng-show="a===anio">
                <li class="nav-anios">
                  <div class="dropdown-header">Elecciones</div>
                  <div class="nav-anios">
                    <button type="button" ng-click="setAnioIndex($index);setTipoEleccion(1)" class="btn btn-default btn-sm nav-justified" ng-class="{active: getTipoEleccion()===1 && a===anio}">Plurinominales</button>
                    <button type="button" ng-click="setAnioIndex($index);setTipoEleccion(2)" class="btn btn-default btn-sm nav-justified" ng-class="{active: getTipoEleccion()===2 && a===anio}">Uninominales</button>
                  </div>
                  <div class="divider"></div>
                  <div class="dropdown-header">Delimitación</div>
                  <div class="btn-group">
                    <button type="button" ng-click="setAnioIndex($index);setTipoDpa(2)" class="btn btn-default btn-sm nav-justified" ng-class="{active: getTipoDpa()===2 && a===anio}">Departamento</button>
                    <button type="button" ng-click="setAnioIndex($index);setTipoDpa(3)" class="btn btn-default btn-sm nav-justified" ng-class="{active: getTipoDpa()===3 && a===anio}">Provincia</button>
                    <button type="button" ng-click="setAnioIndex($index);setTipoDpa(4)" class="btn btn-default btn-sm nav-justified" ng-class="{active: getTipoDpa()===4 && a===anio}">Municipio</button>
                    <button type="button" ng-click="setAnioIndex($index);setTipoDpa(5)" class="btn btn-default btn-sm nav-justified" ng-class="{active: getTipoDpa()===5 && a===anio}">Circunscripción</button>
                  </div>
                  <div class="divider"></div>
                </li>
              </ul>
          </li> -->
        </ul>
      </div>
      
      <div class="col-sm-10" ng-class="mapa_columna()">
        <mapa-bolivia class="grafico" data="dpaGeoJSON" votos="partidosDepartamento" current-dpa="currentDpa" tipos-dpa="tiposDpa" partido="partidoSeleccionado" ng-if="isSelected(1)">
        </mapa-bolivia>

        <!-- Barras -->
        <barras-bolivia class="grafico" data="partidos" tab="{{tab}}" ng-if="isSelected(2)">
        </barras-bolivia>

        <!-- Torta -->
        <torta-bolivia id="torta" class="grafico" data="partidos" tab="{{tab}}" ng-if="isSelected(3)">
        </torta-bolivia>
      </div>
    </div>
  </div>

  <!-- EstadisticS -->
  <div class="col-md-4 col-sm-12 statistics">
    <table class="table table-condensed table-hover">
      <thead>
        <tr>
          <th></th>
          <th>Partido</th>
          <th class="numero">Votos</th>
          <th class="numero">% votos</th>
        </tr>
      </thead>
      <tbody>
        <tr id="partido_{{partido.id_partido}}" ng-repeat="partido in partidos" title="{{partido.partido_nombre}}<br/>{{partido.observacion}}" data-html="true" data-toggle="tooltip" data-placement="bottom" class="tooltip-tabla" ng-mouseover="hoverIn()" ng-click="seleccionarPartido($index)" >
          <td>
            <div class="bandera" style="background-color: #{{partido.color}};" ng-class="establecerClases(partido)"></div>
          </td>
          <td>{{partido.sigla}}</td>
          <td class="numero">{{partido.resultado | number}}</td>
          <td class="numero">{{partido.porcentaje | number:2}}%</td>
        </tr>
      </tbody>
    </table>

    <div class="btn-group pull-right uninominales dropup">
      <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
        <span ng-switch on="getTipoEleccion()">
          <span ng-switch-default>Plurinominales</span>
          <span ng-switch-when="1">Plurinominales</span>
          <span ng-switch-when="2">Uninominales</span>
        </span>
        <span class="caret"></span>
      </button>
      <div class="dropdown-menu">
        <button type="button" ng-click="setTipoEleccion(1)" class="btn btn-default btn-sm nav-justified" ng-class="{active: getTipoEleccion()===1}">Plurinominales</button>
        <button type="button" ng-click="setTipoEleccion(2)" class="btn btn-default btn-sm nav-justified" ng-class="{active: getTipoEleccion()===2}">Uninominales</button>
      </div>
    </div>

    <div class="btn-group dropup">
      <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
        <span ng-switch on="getTipoDpa()">
          <span ng-switch-default>Departamento</span>
          <span ng-switch-when="2">Departamento</span>
          <span ng-switch-when="3">Provincia</span>
          <span ng-switch-when="4">Municipio</span>
          <span ng-switch-when="5">Circunscripción</span>
        </span>
        <span class="caret"></span>
      </button>
      <div class="dropdown-menu">
        <button type="button" ng-click="setTipoDpa(2)" class="btn btn-default btn-sm nav-justified" ng-class="{active: getTipoDpa()===2}">Departamento</button>
        <button type="button" ng-click="setTipoDpa(3)" class="btn btn-default btn-sm nav-justified" ng-class="{active: getTipoDpa()===3}">Provincia</button>
        <button type="button" ng-click="setTipoDpa(4)" class="btn btn-default btn-sm nav-justified" ng-class="{active: getTipoDpa()===4}">Municipio</button>
        <button type="button" ng-click="setTipoDpa(5)" class="btn btn-default btn-sm nav-justified" ng-class="{active: getTipoDpa()===5}">Circunscripción</button>
      </div>
    </div>

  </div>

</div>
<div id="tooltip-mapa"></div>